/* ===== Pixel Mosaic — colori pieni, UI centrata mobile ===== */
:root{
  --bg:#0b0f14;
  --panel:#111621;
  --ink:#e9eef7;
  --muted:#9fb0c9;

  --line-idle:#223044;
  --line-active:#3b4f6b;

  --p1:#12C2E9; /* default, verrà sovrascritto in JS */
  --p2:#F72585;

  --radius:12px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  background: var(--bg);
  color: var(--ink);
  font: 500 16px/1.4 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

/* Containers */
.container{width:min(960px, 94vw); margin: 0 auto;}
.app-header{padding:18px 0 6px; text-align:center}
.title{margin:0; font-weight:800; letter-spacing:.02em}
.subtitle{margin:4px 0 0; color:var(--muted)}

.panel{
  background: var(--panel);
  border: 1px solid #1b2331;
  border-radius: var(--radius);
  padding: 14px;
  margin: 14px auto;
}

.h2{margin:.2rem 0 1rem; font-weight:800}
.h3{margin:.2rem 0 .6rem; font-weight:800}

.grid-2{display:grid; grid-template-columns:1fr; gap:12px}
@media (min-width:760px){ .grid-2{ grid-template-columns:1fr 1fr; } }

.players .player-card{
  background:#0d1320;
  border:1px solid #1b2331;
  border-radius: var(--radius);
  padding:12px;
}

.field{display:grid; gap:6px}
.label{font-weight:700}
.help{color:var(--muted)}
input[type="text"], input[type="number"], input[type="color"]{
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid #223044; background:#0b0f17; color:var(--ink);
}
input:focus{outline:2px solid #2a6cff; outline-offset:2px}

/* Buttons — centrati in mobile */
.actions{display:flex; gap:10px; flex-wrap:wrap}
.actions.centered{justify-content:center}
.actions.right{justify-content:flex-end}
.btn{
  padding:10px 14px; border-radius:10px; border:1px solid #2a3547;
  background:#141c29; color:var(--ink); cursor:pointer; font-weight:700;
}
.btn.primary{ background:#2151ff; border-color:#2151ff; color:white; }
.btn:active{ transform: translateY(1px); }

/* Topbar perfettamente centrata su mobile */
.topbar{
  display:grid; grid-template-columns: 1fr;
  gap:10px; align-items:center; margin-bottom:10px;
}
.topbar .controls{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.topbar .turn{ text-align:center; }
@media (min-width:800px){
  .topbar{ grid-template-columns: 1fr auto; }
  .topbar .turn{ text-align:left; }
  .topbar .controls{ justify-content:flex-end; }
}

.pill{
  display:inline-block; padding:2px 8px; border-radius:999px;
  background:#0b0f17; border:1px solid #223044;
}

/* ====== Board: look “pixel” ====== */
.board-wrap{ display:grid; place-items:center; }
.board{
  width:min(92vw, 78vh); aspect-ratio:1/1; display:grid;
  user-select:none; touch-action:manipulation;
}

/* punti = quadratini bianchi pieni */
.dot{ display:grid; place-items:center; }
.dot::before{
  content:''; width:48%; height:48%; background:#fff; border-radius:4px;
}

/* linee piene, senza glow */
.h-line,.v-line{ position:relative; cursor:pointer; }
.h-line::before,.v-line::before{
  content:''; position:absolute; inset:0; margin:auto; background:var(--line-idle);
  transition: background .12s, transform .08s;
}
.h-line:hover::before,.v-line:hover::before{ background:var(--line-active); }
.h-line::before{ width:80%; height:26%; }
.v-line::before{ width:26%; height:80%; }

/* linea disegnata prende il colore pieno del giocatore */
.h-line.drawn::before,.v-line.drawn::before{ background:var(--draw, var(--p1)); }

/* box “pixel” pieno, nessun bordo decorativo */
.box{
  display:grid; place-items:center; border:1px solid #1c2534;
  color:#000; font-weight:900; letter-spacing:.02em;
  font-size: clamp(14px, 3vw, 26px);
}
.box.claimed{ animation: pop .09s ease-out; }
@keyframes pop{ from{ transform:scale(.98) } to{ transform:scale(1) } }

/* Modal */
.modal{
  border:none; border-radius:12px; width:min(420px, 92vw);
  background:#0f1522; color:var(--ink); padding:14px;
  border:1px solid #1b2331;
}
.score{ display:grid; gap:8px; margin:10px 0; }
.score-line{
  display:flex; justify-content:space-between; align-items:center;
  background:#0b0f17; border:1px solid #1b2331; border-radius:10px; padding:10px 12px;
}
.score-dot{ width:10px; height:10px; border-radius:2px; background:#fff; margin-right:8px; display:inline-block; }

/* Footer */
.app-footer{ text-align:center; color:var(--muted); padding:12px 0 }

/* === Neon frame minimal (UI esterna) === */
.theme-neon .title{
  letter-spacing:.03em;
  text-shadow: 0 0 4px #00e5ff66, 0 0 14px #00e5ff33;
}

.theme-neon .panel{
  position: relative;
  box-shadow: 0 10px 30px #0008;
}
.theme-neon .panel::before{
  content:"";
  position:absolute; inset:-2px;
  border-radius: var(--radius);
  background: conic-gradient(from 0deg, #00e5ff22, #ff3df722, #ffd16622, #00e5ff22);
  filter: blur(14px);
  z-index:-1; opacity:.55;
}

/* bordo “neon” intorno al campo, ma contenuto (pixel) rimane flat */
.theme-neon .board-wrap{ position: relative; }
.theme-neon .board-wrap::before{
  content:"";
  position:absolute; inset:-10px;
  border-radius: calc(var(--radius) + 6px);
  background: conic-gradient(from 0deg, #00e5ff22, #ff3df722, #ffd16622, #00e5ff22);
  filter: blur(22px);
  z-index:-1; opacity:.5; pointer-events:none;
}

/* pill turno con accento dinamico */
.theme-neon .pill{
  border-color: transparent;
  color: #fff;
  background: #0b0f17;
  box-shadow:
    0 0 0 2px var(--active, #2a6cff) inset,
    0 0 12px color-mix(in srgb, var(--active, #2a6cff) 65%, transparent);
}

/* i pulsanti restano centrati, ma hanno un profilo neon sobrio */
.theme-neon .btn{
  border-color:#344766;
}
.theme-neon .btn.primary{
  background:#0c1f4d;
  border-color: #2ae9ff;
  box-shadow: 0 0 10px #00e5ff33 inset, 0 0 10px #00e5ff22;
}
.theme-neon .btn:hover{
  box-shadow: 0 0 10px #ffffff18, 0 0 10px #00e5ff18 inset;
}