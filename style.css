:root{
  --bg: #0a0f1f;
  --panel: #0d1530;
  --text: #e6f0ff;
  --muted: #93a5cfbb;

  --neon-cyan: #00e5ff;
  --neon-magenta: #ff3df7;
  --neon-amber: #ffd166;

  --line-idle: #26325a;
  --line-hover: #3b4d86;
  --dot-core: #b7cffb;

  --shadow-lg: 0 0 22px #0008;
}

* { box-sizing: border-box; }

html, body {
  height: 100%;
  background: radial-gradient(1200px 800px at 70% 10%, #101735 0%, #0a0f1f 55%, #070b16 100%) fixed;
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Orbitron', sans-serif;
  line-height: 1.4;
  margin: 0;
}

.app-header, .app-footer { text-align: center; }
.app-header { padding: 18px 12px 6px; }
.app-footer { padding: 10px; color: var(--muted); }

.neon-title{
  font-family: 'Orbitron', system-ui, sans-serif;
  font-weight: 700;
  letter-spacing: 1px;
  font-size: clamp(22px, 3vw, 34px);
  color: var(--neon-cyan);
  text-shadow:
    0 0 6px #00e5ffaa,
    0 0 18px #00e5ff55,
    0 0 36px #00e5ff33;
  margin: 0 0 4px;
}
.subtitle { color: var(--muted); margin: 0; font-size: 0.95rem; }

.panel{
  width: min(960px, 92vw);
  margin: 14px auto;
  background: linear-gradient(180deg, #0f1635 0%, #0b112b 100%);
  border: 1px solid #1b2a5f;
  border-radius: 16px;
  padding: 14px;
  box-shadow:
    0 0 0 1px #0a1442 inset,
    0 10px 30px #0008;
}

.row{ display: grid; gap: 12px; margin-bottom: 12px; }
.row.players{ grid-template-columns: 1fr; }
@media (min-width: 740px){
  .row.players{ grid-template-columns: 1fr 1fr; }
}

.player-card{
  background: #0c1431;
  border: 1px solid #20307a;
  border-radius: 12px;
  padding: 12px;
  box-shadow: var(--shadow-lg);
}
.player-card h3{ margin: 0 0 8px; font-weight: 700; }
.badge{
  display: inline-block;
  width: 10px; height: 10px; border-radius: 50%;
  margin-right: 6px; vertical-align: baseline;
  box-shadow: 0 0 10px currentColor;
}
.badge.p1{ color: var(--neon-cyan); background: var(--neon-cyan); }
.badge.p2{ color: var(--neon-magenta); background: var(--neon-magenta); }

label{ display: grid; gap: 6px; text-align: left; font-size: 0.95rem; }
input[type="text"], input[type="number"], input[type="color"]{
  width: 100%;
  padding: 10px 12px;
  background: #0a1127;
  color: var(--text);
  border: 1px solid #23306a;
  border-radius: 10px;
  outline: none;
  transition: border-color .2s, box-shadow .2s;
}
input[type="text"]:focus, input[type="number"]:focus, input[type="color"]:focus{
  border-color: var(--neon-cyan);
  box-shadow: 0 0 12px #00e5ff44;
}

.actions{ display: flex; gap: 10px; justify-content: center; }
.btn{
  appearance: none; border: 1px solid #2b3b7f; color: var(--text);
  padding: 10px 14px; background: #121c41; border-radius: 10px; cursor: pointer;
  transition: transform .08s ease, box-shadow .2s, border-color .2s;
}
.btn:hover{ box-shadow: 0 0 12px #ffffff22; border-color: #3a4faa; }
.btn:active{ transform: translateY(1px); }
.btn.primary{
  background: radial-gradient(120px 60px at 70% 10%, #0ff 0%, #0af 60%, #014 100%);
  border-color: #2ae9ff; box-shadow: 0 0 18px #00e5ff55;
}
.btn.ghost{
  background: transparent; border-color: #40519b; color: #bcd2ff;
}
.hint{ color: var(--muted); text-align: center; margin: 0; }

.topbar{
  display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center;
  margin-bottom: 10px;
}
.controls{ display: flex; gap: 8px; }

.turn-indicator{
  font-weight: 700;
  color: #dce6ff;
}
.turn-indicator .who{
  padding: 2px 8px; border-radius: 999px;
  background: #0c1431; border: 1px solid #22327a;
  text-shadow: 0 0 10px currentColor;
}

#boardWrapper{
  display: grid; place-items: center;
}
.board{
  /* quadrato fluido */
  width: min(92vw, 78vh);
  aspect-ratio: 1 / 1;
  margin: 6px auto;
  display: grid;
  /* righe/colonne impostate via JS */
  gap: 0; /* gli spazi sono gestiti dagli elementi */
  user-select: none;
  touch-action: manipulation;
  border-radius: 14px;
  box-shadow: inset 0 0 0 2px #1a2558, 0 16px 40px #0009;
  background: radial-gradient(400px 200px at 50% 30%, #0c1431 0%, #0a1127 60%, #081022 100%);
}

/* ——— Dot (punto) ——— */
.dot{
  display: grid; place-items: center;
}
.dot::before{
  content: '';
  width: 48%;
  height: 48%;
  border-radius: 